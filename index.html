
+<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://fonts.googleapis.com/css?family=Cutive+Mono" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    
    <title>BOOK APP</title>
</head>
<body>
        <div class="header">
            <div class="header__text"><h1>Reading List</h1></div>    
        </div>

        <div class="list-container">
                
        <div class="add-item">
            <input class="add-item__input" />
            <button class="add-item__button">+</button>
        </div>

        <div class="item-list-container"></div>
    </div>

<script>
    let userInput;

    //main functionality: adding books
    document.getElementsByClassName("add-item__button")[0].onclick = () => {

        userInput = document.getElementsByClassName("add-item__input")[0].value;
        //console.log(userInput);
        //console.log(document.getElementsByClassName("item__title")[0])

        if (userInput) {
            document.getElementsByClassName("item-list-container")[0].innerHTML += 

                `<div class="list-items">     
                    <div class="item_read">
                        <div class="item__title"><h2>${userInput}</h2></div>
                        <div class="item__buttons">
                            <button onclick="showEditMode(event)" class="item__edit-item">edit</button>
                            <button onclick="deleteItem(event)" class="item__delete-item">del</button>
                        </div>        
                    </div>
                    
                    <div class="item_edit" style="display:none">
                        <input class="item__input" placeholder=${userInput} />
                        <div class="item__buttons">
                            <button onclick="save(event)" class="item__save-item">save</button>
                            <button onclick="showReadMode(event)" class="item__-item">cancel</button>
                        </div>    
                    </div>
                </div>`
        }
        document.getElementsByClassName("add-item__input")[0].value = "";
    }

    //helper functions:
    function showEditMode(e) {
        e.target.parentNode.parentNode.style.display = "none";
        e.target.parentNode.parentNode.parentNode.childNodes[3].style.display = "block";
    }
    function showReadMode(e) {
        e.target.parentNode.parentNode.parentNode.childNodes[1].style.display = "block";
        e.target.parentNode.parentNode.style.display = "none";
    }
    function save(e) {
        title = e.target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[0];
        userEdit = e.target.parentNode.parentNode.childNodes[1].value; //grabs the value of the user input

        if (userEdit) {
            title.innerHTML = userEdit; //to change the value of the read node
            showReadMode(e);
        }
    }

    function deleteItem(e) {
        parent = e.target.parentNode.parentNode.parentNode; 
        deleteItems = e.target.parentNode.parentNode.parentNode.childNodes; 

        parent.removeChild(deleteItems[1])
        parent.removeChild(deleteItems[3])
    }

</script>

</body>
</html>